# Лабораторная работа №4: Визуализация 3D поверхности

## Описание проекта

Приложение для визуализации 3D поверхности на основе данных из CSV-файлов. Программа позволяет загружать данные, нормализовать их, а также выполнять различные преобразования сцены (повороты, перемещения, масштабирование).

## Функциональность

- **Загрузка данных**: Чтение CSV-файлов с матрицей высот
- **Нормализация**: Преобразование высот в заданный диапазон значений
- **Визуализация**: Отображение 3D поверхности в виде сетки
- **Преобразования**:
  - Повороты вокруг осей X, Y, Z
  - Перемещения по осям X, Y, Z
  - Масштабирование (увеличение/уменьшение)
- **Интерфейс**: Графический интерфейс на Qt
  
```
## Полная структура проекта
OOP_lab4/
- core/ # Основные классы ядра
 ─ basefilereader.h
 ─ constants.h
 ─ edge.h/cpp
 ─ facade.h/cpp
 ─ facadeoperationresult.h/cpp
 ─ figure.h/cpp
 ─ normalizationparameters.h/cpp
│ ── point3d.h/cpp
│ ── scene.h/cpp
│ ── scenedrawerbase.h
│ ── sceneobject.h
│ ── transformmatrix.h/cpp
│ ── transformmatrixbuilder.h/cpp
├── io/ # Классы ввода/вывода
│ ├── filereader.h/cpp
│ └── qtscenedrawer.h/cpp
├── ui/ # Пользовательский интерфейс
│ ├── mainwindow.h/cpp
│ └── mainwindow.ui
├── OOP_lab4.pro # Файл проекта qmake
└── main.cpp
```

## Ключевые компоненты системы

### Основные классы:
- **`Facade`** - основной интерфейс для работы с приложением
- **`Scene`** - контейнер для хранения и управления фигурами
- **`Figure`** - 3D фигура, содержащая вершины и рёбра
- **`Vertex`** - вершина с координатами в 3D пространстве
- **`Edge`** - ребро, соединяющее две вершины
- **`Point3D`** - точка в трёхмерном пространстве

### Математические преобразования:
- **`TransformMatrix`** - матрица преобразований 4x4
- **`TransformMatrixBuilder`** - построитель матриц преобразований
- **`SceneObject`** - базовый класс для объектов с поддержкой преобразований

### Ввод/вывод:
- **`BaseFileReader`** - абстрактный читатель файлов
- **`FileReader`** - реализация чтения CSV-файлов
- **`SceneDrawerBase`** - абстрактный отрисовщик сцены
- **`QtSceneDrawer`** - реализация отрисовки с использованием Qt

### Вспомогательные классы:
- **`NormalizationParameters`** - параметры нормализации данных
- **`FacadeOperationResult`** - результат операций с обработкой ошибок
- **`Constants`** - константы приложения

## Требования

- **C++17** или новее
- **Qt 5** или новее
- **Компилятор** с поддержкой C++17

## Сборка и запуск

### Сборка с помощью qmake

```bash
qmake OOP_lab4.pro
make
./OOP_lab4
Использование
Загрузка данных:

Нажмите "Выбрать файл" для выбора CSV-файла

Установите параметры нормализации (мин/макс значения)

Задайте шаг точек для уменьшения детализации

Нажмите "Загрузить данные"

Управление сценой:

Поворот: Кнопки "Поворот X±", "Поворот Y±", "Поворот Z±"

Перемещение: Кнопки "Сдвиг X±", "Сдвиг Y±", "Сдвиг Z±"

Масштабирование: Кнопки "Увеличить" и "Уменьшить"

Формат данных:

CSV-файл с числовыми значениями, разделенными запятыми

Каждая строка представляет собой строку матрицы высот

Пример CSV-файла
text
0.1,0.2,0.3,0.4
0.5,0.6,0.7,0.8
0.9,1.0,1.1,1.2
1.3,1.4,1.5,1.6
Особенности реализации
Использование паттерна Facade для упрощения взаимодействия с системой

Поддержка множественных преобразований сцены через матрицы 4x4

Автоматическая нормализация данных в заданный диапазон

Оптимизация рендеринга через параметризуемый шаг точек

Полная обработка ошибок с детальными сообщениями

Ограничения преобразований для предотвращения артефактов

Технические детали
Матрицы преобразований: 4x4 для поддержки 3-мерных преобразований
Нормализация: линейное преобразование в диапазон [min, max]

Шаг точек: позволяет уменьшить детализацию для больших datasets

Ограничения: максимальное смещение ±200, масштаб 1.0-12.0
